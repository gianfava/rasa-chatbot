version: "3.1"

stories:

- story: fluxo pedido com preco
  steps:
  - intent: saudacao
  - action: utter_saudacao
  - intent: fazer_pedido
  - action: utter_pedir_sabor
  - intent: informar_sabor_pizza
  - action: action_validar_sabor
  - action: utter_pedir_tamanho
  - intent: informar_tamanho_pizza
  - action: action_validar_tamanho
  - action: utter_pedir_borda
  - intent: informar_tipo_borda
  - action: utter_confirmar_pedido
  - intent: confirmar_pedido
  - action: action_calcular_preco
  - intent: informar_forma_pagamento 
  - action: action_finalizar_pedido  
  - intent: despedida
  - action: utter_despedida

- story: fluxo cancelamento
  steps:
  - intent: saudacao
  - action: utter_saudacao
  - intent: fazer_pedido
  - action: utter_pedir_sabor
  - intent: informar_sabor_pizza
  - action: action_validar_sabor
  - action: utter_pedir_tamanho
  - intent: informar_tamanho_pizza
  - action: action_validar_tamanho
  - action: utter_pedir_borda
  - intent: informar_tipo_borda
  - action: utter_confirmar_pedido
  - intent: cancelar_pedido
  - action: utter_cancelar_pedido
  - intent: despedida
  - action: utter_despedida

- story: fluxo onde usuario informa tamanho e borda juntos
  steps:
  - intent: fazer_pedido
  - action: utter_pedir_sabor
  - intent: informar_sabor_pizza
    entities:
    - sabor: "mussarela"
  - action: action_validar_sabor
  - slot_was_set:
    - sabor: "mussarela"
  - action: utter_pedir_tamanho
  - intent: informar_tamanho_pizza # Ex: usu√°rio diz "grande sem borda"
    entities:
    - tamanho: "grande"
    - borda: "sem borda"
  - action: action_validar_tamanho
  - slot_was_set:
    - tamanho: "grande"
  - slot_was_set:
    - borda: "sem borda"
  - action: utter_confirmar_pedido
  - intent: confirmar_pedido
  - action: action_calcular_preco
  - intent: informar_forma_pagamento # <--- NOVO FLUXO
  - action: action_finalizar_pedido  # <--- NOVO FLUXO
  - intent: despedida
  - action: utter_despedida