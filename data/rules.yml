version: "3.1"

rules:

- rule: Sempre responder uma saudacao
  steps:
  - intent: saudacao
  - action: utter_saudacao

- rule: Despedida sempre despedir
  steps:
  - intent: despedida
  - action: utter_despedida

- rule: Sempre validar sabor
  steps:
  - intent: informar_sabor_pizza
  - action: action_validar_sabor
  - action: utter_pedir_tamanho

- rule: Sempre validar tamanho e pedir borda (se necessário)
  condition:
  - slot_was_set:
    - borda: null
  steps:
  - intent: informar_tamanho_pizza
  - action: action_validar_tamanho
  - action: utter_pedir_borda

- rule: Pedir confirmação após receber todas as informações
  condition:
  - slot_was_set:
    - sabor: true
  - slot_was_set:
    - tamanho: true
  steps:
  - intent: informar_tipo_borda
  - action: utter_confirmar_pedido

- rule: Confirmar pedido e calcular preço
  steps:
  - intent: confirmar_pedido
  - action: action_calcular_preco

- rule: Finalizar o pedido apos a forma de pagamento
  steps:
  - intent: informar_forma_pagamento
  - action: action_finalizar_pedido